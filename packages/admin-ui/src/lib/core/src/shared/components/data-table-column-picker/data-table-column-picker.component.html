<vdr-dropdown [manualToggle]="true">
    <button class="button-small" vdrDropdownTrigger [title]="'common.select-table-columns' | translate">
        <clr-icon shape="view-columns"></clr-icon>
    </button>
    <vdr-dropdown-menu vdrPosition="bottom-left">
        <div cdkDropList (cdkDropListDropped)="drop($event)">
            <div
                *ngFor="let column of columns; index as i"
                class="mx-2 column-list"
                cdkDrag
                cdkDragLockAxis="y"
                [cdkDragData]="column"
            >
                <div cdkDragHandle class="drag-handle">
                    <clr-icon shape="drag-handle"></clr-icon>
                </div>
                <label>
                    <input
                        type="checkbox"
                        [disabled]="column.optional === false"
                        [checked]="column.visible"
                        (change)="toggleColumn(column)"
                        class="mr-1"
                    />
                    <span>{{ column.heading | translate }}</span>
                </label>
            </div>
        </div>
        <div class="mt-1 mx-1 flex center">
            <button class="button-small" (click)="reset()">
                <span>{{ 'common.reset-columns' | translate }}</span>
                <clr-icon shape="history"></clr-icon>
            </button>
        </div>
    </vdr-dropdown-menu>
</vdr-dropdown>
